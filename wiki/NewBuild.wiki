#summary How to build new version of linuxtrack with Qt GUI

= Introduction =

This page provides instructions how to build the new linuxtrack version.

The new linuxtrack versinon has some changes in the build process. The main difference lies in the fact, that it needs to be installed ('make install' step).
If you don't want to install it between your system binaries/libraries (which you shouldn't as it is development version), use --prefix option to specify destination directory.

Also don't forget that installing it into the tree that is not in your search path will cause that system won't be able to find linuxtrack binaries.
 
  
== Building and installing linuxtrack on Linux==

First of all, some prerequisities have to installed - find them in your favorite package manager.

They include (names from Ubuntu, in other distros might differ a bit):

{{{
autotools-dev
libtool
libc6-dev-i386 (on amd64 arch)
gcc-4.4-multilib (amd64 arch)
gobjc
libqt4-dev
libqt4-opengl-dev
libusb-1.0-0-dev
libcwiid-dev
zlib1g-dev
libv4l-dev
bison
flex
}}}

Now lets assume you checked out sources from the repository into 
'/home/simmer/linux-track-read-only' using this command

{{{
cd /home/simmer/
svn checkout http://linux-track.googlecode.com/svn/branches/michal linux-track-read-only
}}}

You should also install XPlane SDK (default path is '/usr/include/xplane_sdk' - e.g there is file '/usr/include/xplane_sdk/XPLM/XPLMCamera.h'), or specify option
'--with-xplane-sdk' (e.g --with-xplane-sdk=/home/simmer/SDK/CHeaders).

If you intend to use TrackIR, you have to download firmware:

http://media.naturalpoint.com/software/external/bulk_config_data.tar.gz

Then unpack its contents into the '/home/simmer/linux-track-read-only' directory too.

{{{
cd /home/simmer/linux-track-read-only
./configure --prefix=/home/simmer/ltr
make
make install
}}}

It is possible that you'll see several warnings about relinking libraries (they happen when you have linuxtrack already installed) and one saying that libltr.la wasn't installed. You can safely ignore that too.

Now linuxtrack is installed along with the gui and you need to make it available...
Add following to the .bashrc file (I assume your shell is bash)

{{{
export PATH=${PATH}:/home/simmer/ltr/bin
}}}

This line makes linuxtrack binaries available from everywhere.
Last but not least - if you intend to use TrackIR, you'll have to install
file 51-TIR.rules to your udev rules directory (might be /lib/udev/rules.d, but 
refer to your distro documentation). You can find this file in 'prefix/share/linuxtrack' directory.

This should get you up and going...


== Building and installing on Mac ==
First of all, there are some prerequisities to download...
 * * libusb-1.0.8.tar.bz2 * - http://sourceforge.net/projects/libusb/files/libusb-1.0/
 * * XPlane SDK * - http://www.xsquawkbox.net/xpsdk/XPSDK201.zip
 * * Qt SDK for Mac (Qt Libraries should do too) * - http://qt.nokia.com/downloads
 * * TrackIR 4/5 firmware * - http://media.naturalpoint.com/software/external/bulk_config_data.tar.gz

Install the Qt, now create a build directory somewhere and copy libusb-1.0.8.tar.bz2, bulk_config_data.tar.gz and unpacked SDK there too.

Finally open terminal, go to the build directory and check out the linuxtrack itself using command:

{{{
svn checkout http://linux-track.googlecode.com/svn/branches/michal
}}}

Now the structure should look like this:
{{{
...
   build
      michal                  - checked out from svn
      libusb-1.0.8.tar.bz2    - you can download it from sourceforge
      bulk_config_data.tar.gz - trackIR firmware
      SDK                     - unpacked XPlane SDK
}}}

Go to the _michal_ directory and run:
{{{
./mac_build
}}}

This should compile linuxtrack and create .dmg containing all that is needed.
Now run the thing, setup tracking device and you can start playing with tracking.

To use tracking in XPlane, on the last pane there is a button allowing you to install XPlane plugin.